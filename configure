#!/bin/bash
# Makefile for Jonar Blindfolded OS
# Usage: sudo ./configure
#        make
#        make run

function check_root() {
    if [ "$EUID" -ne 0 ]; then
        echo "Please run as root"
        exit 1
    fi
}

function check_debian() {
    if ! command -v apt-get &> /dev/null; then
        echo "This script currently supports only Debian-based systems."
        echo "Please install the required dependencies manually:"
        echo "QEMU - qemu-system-x86, qemu-kvm"
        echo "Deb Packaging Tools - dh-make, debhelper, devscripts, dpkg-dev, cdbs, lintian"
        exit 1
    fi
}

check_debian
check_root

apt-get update

# QEMU Dependencies
apt-get install -y qemu-system-x86
apt-get install -y qemu-kvm

# Deb Packaging Dependencies
apt-get install -y dh-make and debhelper devscripts dpkg-dev cdbs lintian